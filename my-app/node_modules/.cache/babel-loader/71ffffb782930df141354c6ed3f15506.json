{"ast":null,"code":"import _objectSpread from \"D:\\\\Programowanie\\\\CodersCamp\\\\dwana10\\\\2na10\\\\my-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"D:\\\\Programowanie\\\\CodersCamp\\\\dwana10\\\\2na10\\\\my-app\\\\src\\\\modules\\\\movie-browser\\\\movie-browser.container.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Grid, Row, Col } from 'react-bootstrap';\nimport { AppBar, TextField, RaisedButton, Toolbar } from 'material-ui';\nimport { withStyles } from '@material-ui/core/styles';\nimport * as movieActions from './movie-browser.actions';\nimport * as movieHelpers from './movie-browser.helpers';\nimport MovieList from './movie-list/movie-list.component';\nimport * as scrollHelpers from '../common/scroll.helpers';\nimport MovieModal from './movie-modal/movie-modal.container';\nconst styles = {\n  root: {\n    flexGrow: 1\n  },\n  grow: {\n    flexGrow: 1\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20\n  }\n};\n\nclass MovieBrowser extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentPage: 1,\n      currentMovies: []\n    }; // Binds the handleScroll to this class (MovieBrowser)\n    // which provides access to MovieBrowser's props\n    // Note: You don't have to do this if you call a method\n    // directly from a lifecycle method\n\n    this.handleScroll = this.handleScroll.bind(this);\n  }\n\n  componentDidMount() {\n    window.onscroll = this.handleScroll;\n    this.props.getTopMovies(this.state.currentPage);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.handleScroll);\n  }\n\n  handleScroll() {\n    const topMovies = this.props.topMovies;\n\n    if (!topMovies.isLoading) {\n      let percentageScrolled = scrollHelpers.getPercentageScrolledDown(window);\n\n      if (percentageScrolled > .8) {\n        const nextPage = this.state.currentPage + 1;\n        this.props.getTopMovies(nextPage);\n        this.setState({\n          currentPage: nextPage\n        });\n      }\n    }\n  }\n\n  render() {\n    const topMovies = this.props.topMovies;\n    const movies = movieHelpers.getMoviesList(topMovies.response);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(AppBar, {\n      title: \"Movie Browser\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(Toolbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(RaisedButton, {\n      color: \"inherit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \" Login \"), React.createElement(RaisedButton, {\n      color: \"inherit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \" Registration \"))), React.createElement(Grid, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Search will go here\")), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(MovieList, {\n      movies: movies,\n      isLoading: topMovies.isLoading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }))), React.createElement(MovieModal, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }));\n  }\n\n} // export default withStyles(styles)(ButtonAppBar);\n\n\nexport default connect(styles, // Map nodes in our state to a properties of our component\nstate => ({\n  topMovies: state.movieBrowser.topMovies\n}), // Map action creators to properties of our component\n_objectSpread({}, movieActions))(MovieBrowser);","map":{"version":3,"sources":["D:\\Programowanie\\CodersCamp\\dwana10\\2na10\\my-app\\src\\modules\\movie-browser\\movie-browser.container.js"],"names":["React","connect","Grid","Row","Col","AppBar","TextField","RaisedButton","Toolbar","withStyles","movieActions","movieHelpers","MovieList","scrollHelpers","MovieModal","styles","root","flexGrow","grow","menuButton","marginLeft","marginRight","MovieBrowser","Component","constructor","props","state","currentPage","currentMovies","handleScroll","bind","componentDidMount","window","onscroll","getTopMovies","componentWillUnmount","removeEventListener","topMovies","isLoading","percentageScrolled","getPercentageScrolledDown","nextPage","setState","render","movies","getMoviesList","response","movieBrowser"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Grid, Row, Col} from 'react-bootstrap';\r\nimport {AppBar, TextField, RaisedButton, Toolbar} from 'material-ui';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport * as movieActions from './movie-browser.actions';\r\nimport * as movieHelpers from './movie-browser.helpers';\r\nimport MovieList from './movie-list/movie-list.component';\r\nimport * as scrollHelpers from '../common/scroll.helpers';\r\nimport MovieModal from './movie-modal/movie-modal.container';\r\n\r\nconst styles = {\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginLeft: -12,\r\n    marginRight: 20,\r\n  },\r\n};\r\n\r\nclass MovieBrowser extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentPage: 1,\r\n      currentMovies: []\r\n    };\r\n    // Binds the handleScroll to this class (MovieBrowser)\r\n    // which provides access to MovieBrowser's props\r\n    // Note: You don't have to do this if you call a method\r\n    // directly from a lifecycle method\r\n    this.handleScroll = this.handleScroll.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.onscroll = this.handleScroll;\r\n    this.props.getTopMovies(this.state.currentPage);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('scroll', this.handleScroll);\r\n  }\r\n\r\n  handleScroll() {\r\n    const {topMovies} = this.props;\r\n    if (!topMovies.isLoading) {\r\n      let percentageScrolled = scrollHelpers.getPercentageScrolledDown(window);\r\n      if (percentageScrolled > .8) {\r\n        const nextPage = this.state.currentPage + 1;\r\n        this.props.getTopMovies(nextPage);\r\n        this.setState({currentPage: nextPage});\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {topMovies} = this.props;\r\n    const movies = movieHelpers.getMoviesList(topMovies.response);\r\n\r\n    return (\r\n      <div>\r\n        <AppBar title='Movie Browser'>\r\n          <Toolbar>\r\n            <RaisedButton color=\"inherit\"> Login </RaisedButton>\r\n            <RaisedButton color=\"inherit\"> Registration </RaisedButton>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <Grid>\r\n          <Row>\r\n            <p>Search will go here</p>\r\n          </Row>\r\n          <Row>\r\n            <MovieList movies={movies} isLoading={topMovies.isLoading} />\r\n          </Row>\r\n        </Grid>\r\n        <MovieModal />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// export default withStyles(styles)(ButtonAppBar);\r\n\r\nexport default connect(\r\n  styles,\r\n  // Map nodes in our state to a properties of our component\r\n  (state) => ({\r\n    topMovies: state.movieBrowser.topMovies\r\n  }),\r\n  // Map action creators to properties of our component\r\n  { ...movieActions }\r\n)(MovieBrowser);\r\n "]},"metadata":{},"sourceType":"module"}