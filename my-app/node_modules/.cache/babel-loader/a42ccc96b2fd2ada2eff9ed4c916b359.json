{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\bajdu\\\\Documents\\\\2na10\\\\my-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\Users\\\\bajdu\\\\Documents\\\\2na10\\\\my-app\\\\src\\\\modules\\\\movie-browser\\\\movie-browser.container.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Grid, Row, Col } from 'react-bootstrap';\nimport { AppBar, TextField, RaisedButton } from 'material-ui';\nimport * as movieActions from './movie-browser.actions';\nimport * as movieHelpers from './movie-browser.helpers';\nimport MovieList from './movie-list/movie-list.component';\nimport * as scrollHelpers from '../common/scroll.helpers';\nimport MovieModal from './movie-modal/movie-modal.container';\n\nclass MovieBrowser extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentPage: 1,\n      currentMovies: []\n    }; // Binds the handleScroll to this class (MovieBrowser)\n    // which provides access to MovieBrowser's props\n    // Note: You don't have to do this if you call a method\n    // directly from a lifecycle method\n\n    this.handleScroll = this.handleScroll.bind(this);\n  }\n\n  componentDidMount() {\n    window.onscroll = this.handleScroll;\n    this.props.getTopMovies(this.state.currentPage);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.handleScroll);\n  }\n\n  handleScroll() {\n    const topMovies = this.props.topMovies;\n\n    if (!topMovies.isLoading) {\n      let percentageScrolled = scrollHelpers.getPercentageScrolledDown(window);\n\n      if (percentageScrolled > .8) {\n        const nextPage = this.state.currentPage + 1;\n        this.props.getTopMovies(nextPage);\n        this.setState({\n          currentPage: nextPage\n        });\n      }\n    }\n  }\n\n  render() {\n    const topMovies = this.props.topMovies;\n    const movies = movieHelpers.getMoviesList(topMovies.response);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(AppBar, {\n      title: \"Movie Browser\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(Grid, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Search will go here\")), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(MovieList, {\n      movies: movies,\n      isLoading: topMovies.isLoading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }))), React.createElement(MovieModal, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default connect( // Map nodes in our state to a properties of our component\nstate => ({\n  topMovies: state.movieBrowser.topMovies\n}), // Map action creators to properties of our component\n_objectSpread({}, movieActions))(MovieBrowser);","map":{"version":3,"sources":["C:\\Users\\bajdu\\Documents\\2na10\\my-app\\src\\modules\\movie-browser\\movie-browser.container.js"],"names":["React","connect","Grid","Row","Col","AppBar","TextField","RaisedButton","movieActions","movieHelpers","MovieList","scrollHelpers","MovieModal","MovieBrowser","Component","constructor","props","state","currentPage","currentMovies","handleScroll","bind","componentDidMount","window","onscroll","getTopMovies","componentWillUnmount","removeEventListener","topMovies","isLoading","percentageScrolled","getPercentageScrolledDown","nextPage","setState","render","movies","getMoviesList","response","movieBrowser"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,IAAR,EAAcC,GAAd,EAAmBC,GAAnB,QAA6B,iBAA7B;AACA,SAAQC,MAAR,EAAgBC,SAAhB,EAA2BC,YAA3B,QAA8C,aAA9C;AACA,OAAO,KAAKC,YAAZ,MAA8B,yBAA9B;AACA,OAAO,KAAKC,YAAZ,MAA8B,yBAA9B;AACA,OAAOC,SAAP,MAAsB,mCAAtB;AACA,OAAO,KAAKC,aAAZ,MAA+B,0BAA/B;AACA,OAAOC,UAAP,MAAuB,qCAAvB;;AAEA,MAAMC,YAAN,SAA2Bb,KAAK,CAACc,SAAjC,CAA2C;AACzCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,WAAW,EAAE,CADF;AAEXC,MAAAA,aAAa,EAAE;AAFJ,KAAb,CAFiB,CAMjB;AACA;AACA;AACA;;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClBC,IAAAA,MAAM,CAACC,QAAP,GAAkB,KAAKJ,YAAvB;AACA,SAAKJ,KAAL,CAAWS,YAAX,CAAwB,KAAKR,KAAL,CAAWC,WAAnC;AACD;;AAEDQ,EAAAA,oBAAoB,GAAG;AACrBH,IAAAA,MAAM,CAACI,mBAAP,CAA2B,QAA3B,EAAqC,KAAKP,YAA1C;AACD;;AAEDA,EAAAA,YAAY,GAAG;AAAA,UACNQ,SADM,GACO,KAAKZ,KADZ,CACNY,SADM;;AAEb,QAAI,CAACA,SAAS,CAACC,SAAf,EAA0B;AACxB,UAAIC,kBAAkB,GAAGnB,aAAa,CAACoB,yBAAd,CAAwCR,MAAxC,CAAzB;;AACA,UAAIO,kBAAkB,GAAG,EAAzB,EAA6B;AAC3B,cAAME,QAAQ,GAAG,KAAKf,KAAL,CAAWC,WAAX,GAAyB,CAA1C;AACA,aAAKF,KAAL,CAAWS,YAAX,CAAwBO,QAAxB;AACA,aAAKC,QAAL,CAAc;AAACf,UAAAA,WAAW,EAAEc;AAAd,SAAd;AACD;AACF;AACF;;AAEDE,EAAAA,MAAM,GAAG;AAAA,UACAN,SADA,GACa,KAAKZ,KADlB,CACAY,SADA;AAEP,UAAMO,MAAM,GAAG1B,YAAY,CAAC2B,aAAb,CAA2BR,SAAS,CAACS,QAArC,CAAf;AAEA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,CADF,EAIE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AAAW,MAAA,MAAM,EAAEF,MAAnB;AAA2B,MAAA,SAAS,EAAEP,SAAS,CAACC,SAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAJF,CAFF,EAUE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVF,CADF;AAcD;;AArDwC;;AAwD3C,eAAe5B,OAAO,EACpB;AACCgB,KAAD,KAAY;AACVW,EAAAA,SAAS,EAAEX,KAAK,CAACqB,YAAN,CAAmBV;AADpB,CAAZ,CAFoB,EAKpB;AALoB,kBAMfpB,YANe,EAAP,CAObK,YAPa,CAAf","sourcesContent":["import React from 'react';\nimport {connect} from 'react-redux';\nimport {Grid, Row, Col} from 'react-bootstrap';\nimport {AppBar, TextField, RaisedButton} from 'material-ui';\nimport * as movieActions from './movie-browser.actions';\nimport * as movieHelpers from './movie-browser.helpers';\nimport MovieList from './movie-list/movie-list.component';\nimport * as scrollHelpers from '../common/scroll.helpers';\nimport MovieModal from './movie-modal/movie-modal.container';\n\nclass MovieBrowser extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentPage: 1,\n      currentMovies: []\n    };\n    // Binds the handleScroll to this class (MovieBrowser)\n    // which provides access to MovieBrowser's props\n    // Note: You don't have to do this if you call a method\n    // directly from a lifecycle method\n    this.handleScroll = this.handleScroll.bind(this);\n  }\n\n  componentDidMount() {\n    window.onscroll = this.handleScroll;\n    this.props.getTopMovies(this.state.currentPage);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.handleScroll);\n  }\n\n  handleScroll() {\n    const {topMovies} = this.props;\n    if (!topMovies.isLoading) {\n      let percentageScrolled = scrollHelpers.getPercentageScrolledDown(window);\n      if (percentageScrolled > .8) {\n        const nextPage = this.state.currentPage + 1;\n        this.props.getTopMovies(nextPage);\n        this.setState({currentPage: nextPage});\n      }\n    }\n  }\n\n  render() {\n    const {topMovies} = this.props;\n    const movies = movieHelpers.getMoviesList(topMovies.response);\n\n    return (\n      <div>\n        <AppBar title='Movie Browser' />\n        <Grid>\n          <Row>\n            <p>Search will go here</p>\n          </Row>\n          <Row>\n            <MovieList movies={movies} isLoading={topMovies.isLoading} />\n          </Row>\n        </Grid>\n        <MovieModal />\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  // Map nodes in our state to a properties of our component\n  (state) => ({\n    topMovies: state.movieBrowser.topMovies\n  }),\n  // Map action creators to properties of our component\n  { ...movieActions }\n)(MovieBrowser);\n"]},"metadata":{},"sourceType":"module"}